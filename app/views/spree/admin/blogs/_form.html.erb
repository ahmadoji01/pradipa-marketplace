<% method ||= 'post' %>
<% @url = (method == 'post' ? main_app.blogs_path : main_app.blog_path(@blog)) %>

<% if @blog.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(@blog.errors.count, "error") %> prohibited this spree_blog from being saved:</h2>

    <ul>
      <% @blog.errors.each do |error| %>
        <li><%= error.full_message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<div data-hook="admin_ticket_form_fields">
  <div class="row">
    <div class="left col-9" data-hook="admin_withdrawal_form_fields">
      <div data-hook="admin_withdrawal_request_form_withdrawal">
        <%= f.field_container :title do %>
          <%= f.label :title, class: 'required' %>
          <%= f.text_field :title, class: 'fullwidth title' %>
        <% end %>
      </div>

      <div data-hook="admin_withdrawal_request_form_withdrawal">
        <%= f.field_container :slug do %>
          <%= f.label :slug, class: 'required' %>
          <%= f.text_field :slug, class: 'fullwidth title' %>
        <% end %>
      </div>

      <div data-hook="admin_withdrawal_request_form_withdrawal">
        <%= f.field_container :body do %>
          <%= f.label :body, class: 'required' %>
          <%= f.text_area :body, class: 'fullwidth title', row: 4 %>
        <% end %>
      </div>

      <div data-hook="admin_withdrawal_request_form_withdrawal">
        <%= f.field_container :meta_title do %>
          <%= f.label :meta_title, class: 'required' %>
          <%= f.text_field :meta_title, class: 'fullwidth title' %>
        <% end %>
      </div>

      <div data-hook="admin_withdrawal_request_form_withdrawal">
        <%= f.field_container :meta_keyword do %>
          <%= f.label :meta_keyword, class: 'required' %>
          <%= f.text_field :meta_keyword, class: 'fullwidth title' %>
        <% end %>
      </div>

      <div data-hook="admin_withdrawal_request_form_withdrawal">
        <%= f.field_container :subtitle do %>
          <%= f.label :subtitle, class: 'required' %>
          <%= f.text_field :subtitle, class: 'fullwidth title' %>
        <% end %>
      </div>

      <div data-hook="admin_withdrawal_form_bank_swift_code">
          <%= image_tag(@blog.featured_image_url) if @blog.featured_image? %>
          <%= f.field_container :featured_image do %>
            <%= f.label :featured_image, class: 'required' %>
            <%= f.file_field :featured_image, class: 'fullwidth title' %>
            <%= f.error_message_on :featured_image %>
          <% end %>
      </div>

      <div data-hook="admin_withdrawal_form_user">
        <%= f.field_container :blog_category do %>
          <%= f.label :blog_category_id, class: 'required' %>
          <%= f.select :blog_category_id, @blog_categories.all.map {|t| [t.name, t.id]}, {include_blank: true, required: true, include_hidden: true}, class: 'form-control select2-basic content-search' %>
        <% end %>
      </div>

      <div data-hook="admin_withdrawal_form_user">
        <%= f.field_container :published do %>
          <%= f.check_box :published, class: 'required' %>
          Published
        <% end %>
      </div>

    </div>
  </div>
</div>