
<!-- Shop Products Section Start -->
<div class="section section-padding pt-0">

    <div class="section learts-mt-70">
        <div class="container">
            <div class="row learts-mb-n50">

                <div class="col-lg-9 col-12 learts-mb-50 order-lg-2">
                    <%  paginated_products = @searcher.retrieve_products if params.key?(:keywords)
                        paginated_products ||= @products %>
                    <% content_for :head do %>
                        <% if paginated_products.respond_to?(:total_pages) %>
                            <%= rel_next_prev_link_tags paginated_products %>
                        <% end %>
                    <% end %>

                    <!-- Products Start -->
                    <div id="shop-products" class="products isotope-grid row row-cols-xl-4 row-cols-md-3 row-cols-sm-2 row-cols-2">
                        <div class="grid-sizer col-1"></div>
                        <% @products.each do |product| %>
                            <div class="grid-item col">
                                <%= render partial: 'spree/elements/product_card', locals: { product: product } %>
                            </div>
                        <% end %>
                        <% if paginated_products.respond_to?(:total_pages) %>
                            <%= paginate paginated_products %>
                        <% end %>
                    </div>
                    <% if paginated_products.respond_to?(:total_pages) %>
                        <div class="text-center learts-mt-70">
                            <%= paginate paginated_products %>
                        </div>
                    <% end %>
                </div>

                <div class="col-lg-3 col-12 learts-mb-10 order-lg-1 d-lg-block d-none">

                    <div class="product-column-toggle d-none d-xl-flex single-widget learts-mb-40">
                        <button class="toggle hintT-top" data-hint="5 Column" data-column="5"><i class="ti-layout-grid4-alt"></i></button>
                        <button class="toggle active hintT-top" data-hint="4 Column" data-column="4"><i class="ti-layout-grid3-alt"></i></button>
                        <button class="toggle hintT-top" data-hint="3 Column" data-column="3"><i class="ti-layout-grid2-alt"></i></button>
                    </div>

                    <!-- Search Start -->
                    <div class="single-widget learts-mb-40">
                        <div class="widget-search">
                            <%= form_tag spree.products_path, method: :get do %>
                                <%= search_field_tag :keywords, params[:keywords], placeholder: 'Search Products...' %>
                                <button><i class="fal fa-search"></i></button>
                            <% end %>
                        </div>
                    </div>
                    <!-- Search End -->

                    <div class="product-sorting single-widget learts-mb-40">
                        <select class="nice-select">
                            <option value="menu_order" selected="selected">Default sorting</option>
                            <option value="popularity">Sort by popularity</option>
                            <option value="rating">Sort by average rating</option>
                            <option value="date">Sort by latest</option>
                            <option value="price">Sort by price: low to high</option>
                            <option value="price-desc">Sort by price: high to low</option>
                        </select>
                    </div>

                    <% max_level = Spree::Config[:max_level_in_taxons_menu] || 1 %>
                    <nav id="taxonomies" class="sidebar-item" data-hook>
                        <% @taxonomies.each do |taxonomy| %>
                            <div class="single-widget learts-mb-40">
                                <% cache [I18n.locale, taxonomy, @taxon, max_level] do %>
                                <h3 class="widget-title product-filter-widget-title"><%= t('spree.shop_by_taxonomy', taxonomy: taxonomy.name) %></h3>
                                <%= taxons_tree(taxonomy.root, @taxon, max_level) %>
                                <% end %>
                            </div>
                        <% end %>
                    </nav>

                    <div class="single-widget learts-mb-40">
                      <h3 class="widget-title product-filter-widget-title">Filters by colors</h3>
                      <ul class="widget-colors product-filter-widget customScroll">
                          <li><a href="#" class="hintT-top" data-hint="Black"><span data-bg-color="#000000">Black</span></a></li>
                          <li><a href="#" class="hintT-top" data-hint="White"><span data-bg-color="#FFFFFF">White</span></a></li>
                          <li><a href="#" class="hintT-top" data-hint="Dark Red"><span data-bg-color="#b2483c">Dark Red</span></a></li>
                          <li><a href="#" class="hintT-top" data-hint="Flaxen"><span data-bg-color="#d5b85a">Flaxen</span></a></li>
                          <li><a href="#" class="hintT-top" data-hint="Pine"><span data-bg-color="#01796f">Pine</span></a></li>
                          <li><a href="#" class="hintT-top" data-hint="Tortilla"><span data-bg-color="#997950">Tortilla</span></a></li>
                      </ul>
                  </div>

                    <!-- Price Range Start -->
                    <div class="single-widget learts-mb-40">
                        <h3 class="widget-title product-filter-widget-title">Filters by price</h3>
                        <div class="widget-price-range">
                            <input class="range-slider" type="text" data-min="0" data-max="350" data-from="0" data-to="350" />
                        </div>
                    </div>
                    <!-- Price Range End -->

                    <!-- Tags Start -->
                    <div class="single-widget learts-mb-40">
                        <h3 class="widget-title product-filter-widget-title">Product Tags</h3>
                        <div class="widget-tags">
                            <a href="#">handmade</a>
                            <a href="#">learts</a>
                            <a href="#">mug</a>
                            <a href="#">product</a>
                            <a href="#">learts</a>
                        </div>
                    </div>
                    <!-- Tags End -->

                </div>

            </div>
        </div>
    </div>

</div>
<!-- Shop Products Section End -->
<%= render partial: 'spree/offcanvases/filter' %>
<button class="offcanvas-toggle fab-button d-lg-none d-xl-none" href="#offcanvas-filter" data-bs-toggle="offcanvas" aria-controls="offcanvas-cart"><i class="fas fa-filter"></i> Filter</button>